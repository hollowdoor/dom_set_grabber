{"version":3,"file":"bundle.es.js","sources":["../src/index.js"],"sourcesContent":["const events = [\n    'mouseover','touchstart','touchend',\n    'mouseleave','mousedown','mouseup'\n];\n\nclass Grabber {\n    constructor(element, {\n        defaultCursor = 'default'\n    } = {}){\n\n        this.hovered = false;\n        this.down = false;\n        this.defaultCursor = defaultCursor;\n        this.originalCursor = null;\n        this.isTouch = false;\n        this.element = element;\n\n        this.handleEvent = function(event){\n            return this['_' + event.type](event);\n        };\n\n        events.forEach(event=>{\n            element.addEventListener(event, this);\n        });\n    }\n    destroy(){\n\n        events.forEach(event=>{\n            this.element.removeEventListener(event, this);\n        });\n\n        Object.keys(this)\n        .forEach(n=>this[n] = null);\n    }\n    get cursor(){\n        return this.element.style.cursor;\n    }\n    set cursor(v){\n        this.element.style.cursor = v;\n    }\n    _touchstart(){\n        if(this.originalCursor === null){\n            this._save();\n        }\n        this.cursor = 'grabbing';\n        this.down = true;\n    }\n    _touchend(){\n        this.down = false;\n        this._restore();\n    }\n    _mouseover(){\n        if(!this.hovered){\n            this._save();\n            this.cursor = 'grab';\n        }\n\n        this.hovered = true;\n    }\n    _mouseleave(){\n        this.hovered = false;\n    }\n    _mousedown(){\n        if(!this.down){\n            this.cursor = 'grabbing';\n        }\n        this.down = true;\n    }\n    _mouseup(){\n        this.cursor = 'grab';\n        this.down = false;\n    }\n    _save(){\n        if(this.defaultCursor){\n            this.originalCursor = this.defaultCursor;\n            return;\n        }\n        this.originalCursor = this.cursor;\n    }\n    _restore(){\n        if(this.originalCursor){\n            this.cursor = this.originalCursor;\n        }else{\n            this.cursor = this.defaultCursor;\n        }\n        this.originalCursor = null;\n    }\n}\n\nexport default function setGrabber(element){\n    return new Grabber(element);\n}\n"],"names":["const","this"],"mappings":"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"}